# –ë–æ–ª—å—à–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤

–ï—Å–ª–∏ —Å—Ç—Ä–æ–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ web API, –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤—Å–µ –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ.

FastAPI –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —á—Ç–æ–±—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º –≤—Å—é –≥–∏–±–∫–æ—Å—Ç—å.

> **–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**
> 
> –ï—Å–ª–∏ –≤—ã –ø—Ä–∏—à–ª–∏ –∏–∑ Flask, —ç—Ç–æ –±—ã–ª–æ –±—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–æ–º Flask Blueprints.

## –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–°–∫–∞–∂–µ–º, —É –≤–∞—Å –µ—Å—Ç—å —Ç–∞–∫–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```text
.
‚îú‚îÄ‚îÄ app
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py
‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py
```

> **–°–æ–≤–µ—Ç**
> 
> –ó–¥–µ—Å—å —É –Ω–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ `__init__.py` —Ñ–∞–π–ª–æ–≤: –ø–æ –æ–¥–Ω–æ–º—É –≤ –∫–∞–∂–¥–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏–ª–∏ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
> 
> –≠—Ç–æ —Ç–æ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –¥—Ä—É–≥–æ–π.
> 
> –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ `app/main.py` —É –≤–∞—Å –º–æ–≥–ª–∞ –±—ã—Ç—å —Ç–∞–∫–∞—è —Å—Ç—Ä–æ–∫–∞:
> ```python
> from app.routers import items
>```

* –í—Å–µ —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `app`. –ò –æ–Ω–∞ –∏–º–µ–µ—Ç –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª `app/__init__.py`, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ "–ü–∞–∫–µ—Ç Python" (–∫–æ–ª–ª–µ–∫—Ü–∏—è
"Python –º–æ–¥—É–ª–µ–π"): `app`.
* –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∞–π–ª `app/main.py`. –¢–∞–∫ –∫–∞–∫ –æ–Ω –≤–Ω—É—Ç—Ä–∏ Python –ø–∞–∫–µ—Ç–∞ (–ø–∞–ø–∫–∏ —Å —Ñ–∞–π–ª–æ–º `__init__.py`), —ç—Ç–æ "–º–æ–¥—É–ª—å" —ç—Ç–æ–≥–æ
–ø–∞–∫–µ—Ç–∞: `app.main`.
* –¢–∞–∫–∂–µ –µ—Å—Ç—å —Ñ–∞–π–ª `app/dependencies.py`, –∫–∞–∫ –∏ `app/main.py`, —ç—Ç–æ "–º–æ–¥—É–ª—å": `app.dependencies`.
* –ï—Å—Ç—å –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/routers` —Å –¥—Ä—É–≥–∏–º —Ñ–∞–π–ª–æ–º `__init__.py`, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ "–ø–æ–¥–ø–∞–∫–µ—Ç Python": `app.routers`.
* –§–∞–π–ª `app/routers/items.py` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø–∞–∫–µ—Ç–∞ `app/routers`, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ –ø–æ–¥–º–æ–¥—É–ª—å: `app.routers.items`.
* –¢–æ –∂–µ —Å–∞–º–æ–µ —Å `app/routers/users.py`, —ç—Ç–æ –¥—Ä—É–≥–æ–π –ø–æ–¥–º–æ–¥—É–ª—å: `app.routers.users`.
* –ï—Å—Ç—å –¥—Ä—É–≥–∞—è –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/internal`, —Å –¥—Ä—É–≥–∏–º —Ñ–∞–π–ª–æ–º `__init__.py`, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ –¥—Ä—É–≥–æ–π "–ø–æ–¥–ø–∞–∫–µ—Ç Python": `app.internal`.
* –ê —Ñ–∞–π–ª `app/internal/admin.py` —ç—Ç–æ –¥—Ä—É–≥–æ–π –ø–æ–¥–º–æ–¥—É–ª—å: `app.internal.admin`.

<img src="https://fastapi.tiangolo.com/img/tutorial/bigger-applications/package.svg">

–¢–∞ –∂–µ —Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏:

```text
.
‚îú‚îÄ‚îÄ app                  # "app" is a Python package
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py      # this file makes "app" a "Python package"
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py          # "main" module, e.g. import app.main
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py  # "dependencies" module, e.g. import app.dependencies
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers          # "routers" is a "Python subpackage"
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py  # makes "routers" a "Python subpackage"
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py     # "items" submodule, e.g. import app.routers.items
‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py     # "users" submodule, e.g. import app.routers.users
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal         # "internal" is a "Python subpackage"
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py  # makes "internal" a "Python subpackage"
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py     # "admin" submodule, e.g. import app.internal.admin
```

## `APIRouter`

–î–æ–ø—É—Å—Ç–∏–º —Ñ–∞–π–ª –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–¥–º–æ–¥—É–ª–µ `/app/routers/users.py`.

–í—ã —Ö–æ—Ç–∏—Ç–µ –∏–º–µ—Ç—å ***–æ–ø–µ—Ä–∞—Ü–∏—é –ø—É—Ç–∏***, –æ—Ç–Ω–æ—Å—è—â—É—é—Å—è –∫ –≤–∞—à–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
–ø–æ—Ä—è–¥–æ–∫.

–ù–æ —ç—Ç–æ –≤—Å–µ –µ—â–µ —á–∞—Å—Ç—å –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è FastAPI/web API (—ç—Ç–æ —á–∞—Å—Ç—å –æ–¥–Ω–æ–≥–æ "–ø–∞–∫–µ—Ç–∞ Python").

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** –¥–ª—è —Ç–∞–∫–∏—Ö –º–æ–¥—É–ª–µ–π, –∏—Å–ø–æ–ª—å–∑—É—è `APIRouter`.

### –ò–º–ø–æ—Ä—Ç `APIRouter`

–í—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –µ–≥–æ –∏ —Å–æ–∑–¥–∞–µ—Ç–µ "—ç–∫–∑–µ–º–ø–ª—è—Ä" —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ —Å –∫–ª–∞—Å—Å–æ–º `FastAPI`:

```python
app/routers/users.py
________________________________

from fastapi import APIRouter

router = APIRouter()
```

### ***–û–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** —Å `APIRouter`

–ê –∑–∞—Ç–µ–º –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –µ–≥–æ, —á—Ç–æ–±—ã –æ–±—ä—è–≤–∏—Ç—å –≤–∞—à–∏ ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏***.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤—ã –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∫–ª–∞—Å—Å `FastAPI`:

```python
app/routers/users.py
________________________________

from fastapi import APIRouter

router = APIRouter()

@router.get("/users/", tags=["users"])
...

@router.get("/users/me", tags=["users"])
...

@router.get("/users/{username}", tags=["users"])
...
```

–í—ã –º–æ–∂–µ—Ç–µ –¥—É–º–∞—Ç—å –æ `APIRouter` –∫–∞–∫ –æ "–º–∏–Ω–∏ `FastAPI" –∫–ª–∞—Å—Å–µ.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —Ç–µ –∂–µ –æ–ø—Ü–∏–∏.

–í—Å–µ —Ç–µ –∂–µ `parameters`, `responses`, `dependencies`, `tags`, –∏ —Ç.–¥.

> **–°–æ–≤–µ—Ç**
> 
> –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `router`, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ —Ö–æ—Ç–∏—Ç–µ.

–ú—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –≤–∫–ª—é—á–∏—Ç—å —ç—Ç–æ—Ç `APIRouter` –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `FastAPI`, –Ω–æ —Å–ø–µ—Ä–≤–∞, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏
–¥—Ä—É–≥–æ–π `APIRouter`.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü–æ—ç—Ç–æ–º—É –º—ã —Ä–∞–∑–º–µ—â–∞–µ–º –∏—Ö –≤ —Å–≤–æ–µ–º –º–æ–¥—É–ª–µ `dependencies` (`app/dependencies.py`).

–¢–µ–ø–µ—Ä—å –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-Token`.

```python
app/dependencies.py
___________________________

from typing import Annotated

from fastapi import Header, HTTPException

async def get_token_header(x_token: Annotated[str, Header()]):
    if x_token != "fake-super-secret-token":
        raise HTTPException(status_code=400, detail="X-Token header invalid")
```

> **–°–æ–≤–µ—Ç**
> 
> –°–µ–π—á–∞—Å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–¥—É–º–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ø—Ä–∏–º–µ—Ä–∞.
> 
> –ù–æ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ 
> <a href="https://github.com/amoglock/FastAPI_documentation/blob/master/tutorial/security.md">–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</a>.

## –î—Ä—É–≥–æ–π –º–æ–¥—É–ª—å —Å `APIRouter`

–î–æ–ø—É—Å—Ç–∏–º —É –≤–∞—Å —Å—Ç—å –µ—â–µ –µ–Ω–¥–ø–æ–∏–Ω—Ç—ã, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ "items" –∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ –º–æ–¥—É–ª–µ `app/router/items.py`.

–£ –≤–∞—Å –µ—Å—Ç—å ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** –¥–ª—è:

* `/items/`
* `/items/{item_id}`

–í—Å–µ –æ–Ω–∏ –≤ —Ç–æ–π –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∫–∞–∫ `app/routers/users.py`.

–ù–æ –º—ã —Ö–æ—Ç–∏–º —á—Ç–æ–±—ã –∫–æ–¥ –±—ã–ª –Ω–µ–º–Ω–æ–≥–æ —ç–ª–µ–≥–∞–Ω—Ç–Ω–µ–µ –∏ –ø—Ä–æ—â–µ.

–ú—ã –∑–Ω–∞–µ–º, —á—Ç–æ –≤—Å–µ ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏** –≤ —ç—Ç–æ–º –º–æ–¥—É–ª–µ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ:

* `–ü—Ä–µ—Ñ–∏–∫—Å` –ø—É—Ç–∏: `/items`.
* `tags`: (–æ–¥–∏–Ω —Ç–µ–≥: `items`).
* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ `responses`.
* `dependencies`: –≤—Å–µ–º –∏–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –º—ã —Å–æ–∑–¥–∞–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `X-Token`.

–ü–æ—ç—Ç–æ–º—É, –≤–º–µ—Å—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –∫ –∫–∞–∂–¥–æ–π ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏***, –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –∫ `APIRouter`:

```python
from fastapi import APIRouter, Depends, HTTPException

from ..dependencies import get_token_header

router = APIRouter(
    prefix="/items",
    tags=["items"],
    dependencies=[Depends(get_token_header)],
    responses={404: {"description": "Not found"}},
)

fake_items_db = {"plumbus": {"name": "Plumbus"}, "gun": {"name": "Portal Gun"}}


@router.get("/")
async def read_items():
    return fake_items_db


@router.get("/{item_id}")
async def read_item(item_id: str):
    if item_id not in fake_items_db:
        raise HTTPException(status_code=404, detail="Item not found")
    return {"name": fake_items_db[item_id]["name"], "item_id": item_id}


@router.put(
    "/{item_id}",
    tags=["custom"],
    responses={403: {"description": "Operation forbidden"}},
)
async def update_item(item_id: str):
    if item_id != "plumbus":
        raise HTTPException(
            status_code=403, detail="You can only update the item: plumbus"
        )
    return {"item_id": item_id, "name": "The great Plumbus"}
```

–¢–∞–∫ –∫–∞–∫ –ø—É—Ç—å –∫–∞–∂–¥–æ–π ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `/`, –∫–∞–∫ –≤:

```python
@router.get("/{item_id}")
async def read_item(item_id: str):
    ...
```

–ü—Ä–µ—Ñ–∏–∫—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è –æ–∫–æ–Ω—á–∞–Ω–∏–µ `/`.

–ü–æ—ç—Ç–æ–º—É –ø—Ä–µ—Ñ–∏–∫—Å –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ `/items`.

–ú—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–ø–∏—Å–æ–∫ `—Ç–µ–≥–æ–≤` –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö `responses`, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ –≤—Å–µ–º ***–æ–ø–µ—Ä–∞—Ü–∏—è–º –ø—É—Ç–∏***,
–≤–∫–ª—é—á–µ–Ω–Ω—ã–º –≤ —ç—Ç–æ—Ç —Ä–æ—É—Ç–µ—Ä.

–ò –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å —Å–ø–∏—Å–æ–∫ `–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π`, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ –≤—Å–µ–º ***–æ–ø–µ—Ä–∞—Ü–∏—è–º –ø—É—Ç–∏*** –≤ —Ä–æ—É—Ç–µ—Ä–µ –∏ –±—É–¥—É—Ç 
–≤—ã–ø–æ–ª–Ω–µ–Ω—ã/—Ä–µ—à–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, —Å–¥–µ–ª–∞–Ω–Ω–æ–≥–æ –∫ –Ω–∏–º.

> **–°–æ–≤–µ—Ç**
> 
> –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ —Å–∏–ª—å–Ω–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ 
> <a href="https://github.com/amoglock/FastAPI_documentation/blob/master/tutorial/dependencies_in_path_operation_decorators.md">–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞—Ö –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏</a>,
> –Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ –≤–∞—à—É ***—Ñ—É–Ω–∫—Ü–∏—é –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏***.

–í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, —ç–ª–µ–º–µ–Ω—Ç—ã –ø—É—Ç–∏ —Ç–µ–ø–µ—Ä—å:

* `/items/`
* `/items/{item_id}

–ö–∞–∫ –º—ã –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∏.

* –û–Ω–∏ –±—É–¥—É—Ç –ø–æ–º–µ—á–µ–Ω—ã —Å–ø–∏—Å–∫–æ–º —Ç–µ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É `"items"`.
  * –≠—Ç–∏ "—Ç–µ–≥–∏" –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è —Å–∏—Å—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö OpenAPI).
* –í—Å–µ –æ–Ω–∏ –±—É–¥—É—Ç –≤–∫–ª—é—á–∞—Ç—å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π `responses`.
* –í—Å–µ ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** –±—É–¥—É—Ç –∏–º–µ—Ç—å —Å–ø–∏—Å–æ–∫ `–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π` –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ/–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –Ω–∏–º–∏.
  * –ï—Å–ª–∏ –≤—ã –µ—â–µ –æ–±—ä—è–≤–ª—è–µ—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏***, –æ–Ω–∏ —Ç–æ–∂–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.
  * –ø–µ—Ä–≤—ã–º–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–æ—É—Ç–µ—Ä–∞, –∑–∞—Ç–µ–º  
  <a href="https://github.com/amoglock/FastAPI_documentation/blob/master/tutorial/dependencies_in_path_operation_decorators.md">`–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏` –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–µ</a>,
  –∞ –∑–∞—Ç–µ–º –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
  * –ï—â–µ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏` —Å–æ `scopes`.

> **–°–æ–≤–µ—Ç**
> 
> –ù–∞–ª–∏—á–∏–µ `–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π` –≤ `APIRouter` –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è —Ü–µ–ª–æ–π –≥—Ä—É–ø–ø—ã
> ***–æ–ø–µ—Ä–∞—Ü–∏–π –ø—É—Ç–∏***. –î–∞–∂–µ –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ –Ω–∏—Ö.

> **–î–ª—è –≥–∞–ª–æ—á–∫–∏**
> 
> –ü–∞—Ä–∞–º–µ—Ç—Ä—ã `prefix`, `tags`, `responses` –∏ `dependencies` (–≤–æ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö —Å–ª—É—á–∞—è—Ö) –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑ FastAPI, 
—á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

### –ò–º–ø–æ—Ä—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–≠—Ç–æ—Ç –∫–æ–¥ –∂–∏–≤–µ—Ç –≤ –º–æ–¥—É–ª–µ `app.routers.items`, —Ñ–∞–π–ª `app/routers/items.py`.

–ê –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ –º–æ–¥—É–ª—è `app.dependencies`, —Ñ–∞–π–ª `app/dependencies.py`.

–ü–æ—ç—Ç–æ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–º–ø–æ—Ä—Ç —Å `..` –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```python
from fastapi import APIRouter, Depends, HTTPException

from ..dependencies import get_token_header

...
```

#### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç

> **–°–æ–≤–µ—Ç**
> 
> –ï—Å–ª–∏ –≤—ã —Ö–æ—Ä–æ—à–æ –∑–Ω–∞–µ—Ç–µ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–º–ø–æ—Ä—Ç—ã, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å–µ–∫—Ü–∏–∏ –Ω–∏–∂–µ.

–û–¥–Ω–∞ —Ç–æ—á–∫–∞ `.`, –∫–∞–∫ –≤:

```python
from .dependencies import get_token_header
```

–û–∑–Ω–∞—á–∞–ª–∞ –±—ã:

* –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–∞–∫–µ—Ç–µ, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —ç—Ç–æ—Ç –º–æ–¥—É–ª—å (—Ñ–∞–π–ª `app/routers/items.py`) (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/routers/`)...
* –ù–∞—Ö–æ–¥–∏—Ç –º–æ–¥—É–ª—å `dependencies` (–≤–æ–æ–±—Ä–∞–∂–∞–µ–º—ã–π —Ñ–∞–π–ª –≤ `app/routers/dependencies.py)...
* –ò –∏–∑ –Ω–µ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `get_token_header`.

–ù–æ —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–∞—à–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ `app/dependencies.py`.

–í—Å–ø–æ–º–Ω–∏—Ç–µ –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ/—Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

<img src="https://fastapi.tiangolo.com/img/tutorial/bigger-applications/package.svg">

*****

–î–≤–µ —Ç–æ—á–∫–∏ `..` –∫–∞–∫ –≤:

```python
from ..dependencies import get_token_header
```

–û–∑–Ω–∞—á–∞—é—Ç:

* –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–∞–∫–µ—Ç–µ, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —ç—Ç–æ—Ç –º–æ–¥—É–ª—å (—Ñ–∞–π–ª `app/routers/items.py`) (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/routers/`)...
* –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø–∞–∫–µ—Ç (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/`)...
* –ò –∑–¥–µ—Å—å –Ω–∞—Ö–æ–¥–∏—Ç –º–æ–¥—É–ª—å `dependencies` (—Ñ–∞–π–ª `app/dependencies.py`)...
* –ò –∏–∑ –Ω–µ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `get_token_header`.

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ

*****

–¢–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –µ—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ç—Ä–∏ —Ç–æ—á–∫–∏ `...`, –∫–∞–∫ –≤:

```python
from ...dependencies import get_token_header
```

–ß—Ç–æ –æ–∑–Ω–∞—á–∞–ª–æ –±—ã:

* –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–∞–∫–µ—Ç–µ, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —ç—Ç–æ—Ç –º–æ–¥—É–ª—å (—Ñ–∞–π–ª `app/routers/items.py`) (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/routers/`)...
* –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –ø–∞–∫–µ—Ç (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/`)...
* –ó–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Ä–æ–¥–∏—Ç–µ–ª—é —ç—Ç–æ–≥–æ –ø–∞–∫–µ—Ç–∞ (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–∞–∫–µ—Ç–∞ –Ω–µ—Ç, `app` —ç—Ç–æ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å üò±)...
* –ò —Ç–∞–º, –Ω–∞—Ö–æ–¥–∏—Ç –º–æ–¥—É–ª—å `dependencies` (—Ñ–∞–π–ª `app/dependencies.py`)...
* –ò –∏–∑ –Ω–µ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `get_token_header`.

–≠—Ç–æ –æ—Ç–Ω–æ—Å–∏–ª–æ—Å—å –±—ã –∫ –∫–∞–∫–æ–º—É-—Ç–æ –ø–∞–∫–µ—Ç—É –≤—ã—à–µ `app/`, —Å –µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º `__init__.py`, –∏ —Ç.–¥. –ù–æ —É –Ω–∞—Å –µ–≥–æ –Ω–µ—Ç. –ü–æ—ç—Ç–æ–º—É,
—ç—Ç–æ –±—ã –ø—Ä–∏–≤–µ–ª–æ –∫ –æ—à–∏–±–∫–µ –≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ.üö®

–ù–æ —Ç–µ–ø–µ—Ä—å –º—ã –∑–Ω–∞–µ–º –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤ –≤–∞—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –Ω–µ –≤–∞–∂–Ω–æ
–Ω–∞—Å–∫–æ–ª—å–∫–æ –æ–Ω–∏ —Å–ª–æ–∂–Ω—ã–µ. ü§ì

### –î–æ–±–∞–≤–∏–º –∫–∞—Å—Ç–æ–º–Ω—ã–µ `tags`, `responses` –∏ `dependencies`

–ú—ã –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–∏ –ø—Ä–µ—Ñ–∏–∫—Å `/items`, –Ω–∏ `tags=["items"]` –∫ –∫–∞–∂–¥–æ–π ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏***, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –∏—Ö –∫ `APIRouter`.

–ù–æ –º—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –µ—â–µ `tags`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ–Ω–∏–º –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º ***–æ–ø–µ—Ä–∞—Ü–∏—è–º –ø—É—Ç–∏*** –∏ —Ç–∞–∫–∂–µ –∫–∞–∫–∏–µ-—Ç–æ
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ `responses`, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–ª—è —ç—Ç–æ–π ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏***:

```python
app/routers/items.py
____________________________

from fastapi import APIRouter, Depends

from ..dependencies import get_token_header


router = APIRouter(
    prefix="/items",
    tags=["items"],
    dependencies=[Depends(get_token_header)],
    responses={404: {"description": "Not found"}},
)

...

@router.put(
  "/item_id",
  tags=["custom"],
  responces={403: {"description": "Operation forbidden"}},
)
async def update_item(item_id: str):
    ...
```

> **–°–æ–≤–µ—Ç**
> 
> –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –ø—É—Ç–∏ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏—é —Ç–µ–≥–æ–≤: `["items", "custom"]`.
> 
> –ò –æ–Ω–∞ —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –æ–±–∞ –æ—Ç–≤–µ—Ç–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –æ–¥–∏–Ω –¥–ª—è `404`, –∏ –æ–¥–∏–Ω –¥–ª—è `403`.

## –û—Å–Ω–æ–≤–Ω–æ–π `FastAPI`

–¢–µ–ø–µ—Ä—å, –¥–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –º–æ–¥—É–ª—å `app/main.py`.

–ó–¥–µ—Å—å –≤—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–ª–∞—Å—Å `FastAPI`.

–≠—Ç–æ –±—É–¥–µ—Ç –≥–ª–∞–≤–Ω—ã–º —Ñ–∞–π–ª–æ–º –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å–µ –≤–º–µ—Å—Ç–µ.

–ò –ø–æ—Å–∫–æ–ª—å–∫—É –æ—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –≤–∞—à–µ–π –ª–æ–≥–∏–∫–∏ —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –∂–∏—Ç—å –≤ —Å–≤–æ–∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö, –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º.

### –ò–º–ø–æ—Ä—Ç FastAPI

–í—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –∏ —Å–æ–∑–¥–∞–µ—Ç–µ –∫–ª–∞—Å—Å `FastAPI` –∫–∞–∫ –æ–±—ã—á–Ω–æ.

–ò –º—ã –¥–∞–∂–µ –º–æ–∂–µ–º –æ–±—ä—è–≤–∏—Ç—å 
<a href="https://github.com/amoglock/FastAPI_documentation/blob/master/tutorial/global_dependencies.md">–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</a>,
–∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Å–æ–≤–º–µ—â–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ `APIRouter`:

```python
app/main.py
________________

from fastapi import FastAPI, Depends

from .dependencies import get_query_token, get_token_header


app = FastAPI(dependencies=[Depends(get_query_token)])

...
```

### –ò–º–ø–æ—Ä—Ç `APIROuter`

–¢–µ–ø–µ—Ä—å –º—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –¥—Ä—É–≥–∏–µ –ø–æ–¥–º–æ–¥—É–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç `APIRouter`:

```python
app/main.py
________________

from fastapi import FastAPI, Depends

from .dependencies import get_query_token, get_token_header
from .internal import admin
from .routers import items, users

app = FastAPI(dependencies=[Depends(get_query_token)])

...
```

–¢–∞–∫ –∫–∞–∫ —Ñ–∞–π–ª—ã `app/routers/user.py` –∏ `app/routers/items.py` —ç—Ç–æ –ø–æ–¥–º–æ–¥—É–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é —Ç–æ–≥–æ –∂–µ –ø–∞–∫–µ—Ç–∞ `app`,
–º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É —Ç–æ—á–∫—É `.` —á—Ç–æ–±—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö, –∏—Å–ø–æ–ª—å–∑—É—è "–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç".

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–µ–∫—Ü–∏—è:
```python
from .routers import items, users
```

–û–∑–Ω–∞—á–∞–µ—Ç:

* –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–∞–∫–µ—Ç–µ, –≥–¥–µ –∂–∏–≤–µ—Ç —ç—Ç–æ—Ç –º–æ–¥—É–ª—å (—Ñ–∞–π–ª `app/main.py`, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/`)...
* –ò—â–µ—Ç –ø–æ–¥–ø–∞–∫–µ—Ç `routers` (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/routers/`)...
* –ò –∏–∑ –Ω–µ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–º–æ–¥—É–ª—å `items` (—Ñ–∞–π–ª `app/routers/items.py`) –∏ `users` (—Ñ–∞–π–ª `app/routers/users.py`)...

–ú–æ–¥—É–ª—å `items` –±—É–¥–µ—Ç –∏–º–µ—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `router` (`items.router`). –≠—Ç–æ —Ç–∞, –∫–æ—Ç–æ—Ä—É—é –º—ã —Å–æ–∑–¥–∞–ª–∏ –≤ —Ñ–∞–π–ª–µ `app/routers/items.py`,
—ç—Ç–æ –æ–±—ä–µ–∫—Ç `APIRouter`.

–ò –∑–∞—Ç–µ–º –º—ã –¥–µ–ª–∞–µ–º —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è –º–æ–¥—É–ª—è `users`.

–ú—ã –º–æ–∂–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∏ —Ç–∞–∫:

```python
from app.routers import items, users
```

> **–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**
> 
> –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è —ç—Ç–æ "–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç":
> ```python
> from .routers import items, users
> ```
> –í—Ç–æ—Ä–∞—è –≤–µ—Ä—Å–∏—è —ç—Ç–æ "–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –∏–º–ø–æ—Ä—Ç":
> ```python
> from app.routers import items, users
> ```
> 
> –ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –ø—Ä–æ –ø–∞–∫–µ—Ç—ã Python –∏ –º–æ–¥—É–ª–∏, –ø–æ—á–∏—Ç–∞–π—Ç–µ 
> <a href="https://docs.python.org/3/tutorial/modules.html">–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Python –æ –º–æ–¥—É–ª—è—Ö</a>.

### –ò–∑–±–µ–≥–∞–π—Ç–µ –∫–æ–ª–ª–∏–∑–∏–π –∏–º–µ–Ω

–ú—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ–¥–º–æ–¥—É–ª—å `items` –Ω–∞–ø—Ä—è–º—É—é, –≤–º–µ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ—Å—Ç–æ –µ–≥–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `router`.

–≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –µ—â–µ –æ–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å –∏–º–µ–Ω–µ–º `router` –≤ –ø–æ–¥–º–æ–¥—É–ª–µ `users`.

–ï—Å–ª–∏ –±—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ –∏—Ö –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º:

```python
from .routers.items import router
from .routers.users import router
```

–¢–æ `router` –∏–∑ `users` –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–ª –±—ã `router` –∏–∑ `items` –∏ –º—ã –Ω–µ —Å–º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

–ü–æ—ç—Ç–æ–º—É, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –æ–±–æ–∏—Ö –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ, –º—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ–¥–º–æ–¥—É–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:

```python
from .routers import items, users
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `APIRouter` –¥–ª—è `users` –∏ `items`

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –≤–∫–ª—é—á–∏–º `router` –∏–∑ –ø–æ–¥–º–æ–¥—É–ª–µ–π `users` –∏ `items`:

```python
app/main.py
________________

from fastapi import FastAPI, Depends

from .dependencies import get_query_token, get_token_header
from .internal import admin
from .routers import items, users

app = FastAPI(dependencies=[Depends(get_query_token)])

app.include_router(users.router)
app.include_router(items.router)
...
```

> **–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**
> 
> `users.router` —Å–æ–¥–µ—Ä–∂–∏—Ç `APIRouter` –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞ `app/routers/users.py`.
> 
> –ò `items.router` —Å–æ–¥–µ—Ä–∂–∏—Ç `APIRouter` –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞ `app/routers/items.py`.

–° –ø–æ–º–æ—â—å—é `app.include_router()` –º—ã –º–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–π `APIRouter` –∫ –≥–ª–∞–≤–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é `FastAPI`.

–û–Ω –≤–∫–ª—é—á–∏—Ç –≤—Å–µ `router` –∫–∞–∫ —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

> **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**
> 
> –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ —Å–æ–∑–¥–∞–µ—Ç ***–æ–ø–µ—Ä–∞—Ü–∏—é –ø—É—Ç–∏*** –¥–ª—è –∫–∞–∂–¥–æ–π ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏**, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä—è–≤–ª–µ–Ω–∞ –≤ `APIRouter`.
> 
> –ü–æ—ç—Ç–æ–º—É, –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º, –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –≤—Å–µ —ç—Ç–æ –±—ã–ª–æ –æ–¥–Ω–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

> **–î–ª—è –≥–∞–ª–æ—á–∫–∏**
> 
> –í–∞–º –Ω–µ –Ω—É–∂–Ω–æ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ —Ä–æ—É—Ç–µ—Ä—ã.
> 
> –û–Ω–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥—ã –∏ —ç—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
> 
> –ü–æ—ç—Ç–æ–º—É —ç—Ç–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. ‚ö°

### –í–∫–ª—é—á–µ–Ω–∏–µ `APIRouter` —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º `prefix`, `tags`, `responses` –∏ `dependencies`

–¢–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –≤–∞—à–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–∞–ª–∞ –≤–∞–º —Ñ–∞–π–ª `app/internal/admin.py`.

–û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç `APIRouter` —Å –∫–∞–∫–∏–º–∏-—Ç–æ ***–æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –ø—É—Ç–∏*** –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞—à–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
–ø—Ä–æ–µ–∫—Ç–∞—Ö.

–î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –æ–Ω –±—É–¥–µ—Ç —Å—É–ø–µ—Ä –ø—Ä–æ—Å—Ç—ã–º. –ù–æ —Å–∫–∞–∂–µ–º, –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏,
–º—ã –Ω–µ –º–æ–∂–µ–º –∏–∑–º–µ–Ω—è—Ç—å –µ–≥–æ –∏ –¥–æ–±–∞–≤–ª—è—Ç—å `prefix`, `dependencies`, `tags` –∏ —Ç.–ø. –Ω–∞–ø—Ä—è–º—É—é –≤ `APIRouter`:

```python
from fastapi import APIRouter

router = APIRouter()

@router.post("/")
async def update_admin():
    return {"message": "Admin getting schwifty"}
```

–ù–æ –º—ã –≤—Å–µ —Ä–∞–≤–Ω–æ —Ö–æ—Ç–∏–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π `prefix` –∫–æ–≥–¥–∞ –≤–∫–ª—é—á–∞–µ–º `APIRouter`, —Ç–∞–∫, —á—Ç–æ–±—ã –≤—Å–µ –µ–≥–æ ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏***
–Ω–∞—á–∏–Ω–∞–ª–∏—Å—å —Å `/admin`, –º—ã —Ö–æ—Ç–∏–º –æ–±–µ–∑–æ–ø–∞—Å–∏—Ç—å –µ–≥–æ —Å `dependencies`, –∫–æ—Ç–æ—Ä—ã–µ —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∏ –º—ã —Ö–æ—Ç–∏–º
–≤–∫–ª—é—á–∏—Ç—å –≤ –Ω–µ–≥–æ `tags` –∏ `responses`.

–ú—ã –º–æ–∂–µ–º –æ–±—ä—è–≤–∏—Ç—å –≤—Å–µ —ç—Ç–æ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω—è—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π `APIRouter`, –ø–µ—Ä–µ–¥–∞–≤ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `app.include_router()`:

```python
app/main.py
_________________

from fastapi import Depends, FastAPI

from .dependencies import get_query_token, get_token_header
from .internal import admin
from .routers import items, users

app = FastAPI(dependencies=[Depends(get_query_token)])


app.include_router(users.router)
app.include_router(items.router)
app.include_router(
    admin.router,
    prefix="/admin",
    tags=["admin"],
    dependencies=[Depends(get_token_header)],
    responses={418: {"description": "I'm a teapot"}},
)

...
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π `APIRouter` –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–º, –ø–æ—ç—Ç–æ–º—É –º—ã –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ `app/internal/admin.py`
—Ñ–∞–π–ª —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∫–∞–∂–¥–∞—è ***–æ–ø–µ—Ä–∞—Ü–∏—è –ø—É—Ç–∏*** –∏–∑ –º–æ–¥—É–ª—è `admin` –±—É–¥–µ—Ç –∏–º–µ—Ç—å:

* –ü—Ä–µ—Ñ–∏–∫—Å `/admin`.
* –¢–µ–≥ `admin`.
* –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `get_token_header`.
* –û—Ç–≤–µ—Ç `418`. üçµ

–ù–æ —ç—Ç–æ –±—É–¥–µ—Ç –≤–ª–∏—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ `APIRouter` –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –∞ –Ω–µ –Ω–∞ –∫–∞–∫–æ–π-—Ç–æ –µ—â–µ –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –µ–≥–æ.

–ü–æ—ç—Ç–æ–º—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ `APIRouter` —Å –æ—Ç–ª–∏—á–∞—é—â–∏–º—Å—è –º–µ—Ç–æ–¥–æ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

### –í–∫–ª—é—á–µ–Ω–∏–µ ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏***

–ú—ã –º–æ–∂–µ–º —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è—Ç—å ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** –Ω–∞–ø—Ä—è–º—É—é –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é `FastAPI`.

–ó–¥–µ—Å—å –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º —Ç–∞–∫... —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –º—ã –º–æ–∂–µ–º —ç—Ç–æ ü§∑:

```python
app/main.py
_________________

from fastapi import Depends, FastAPI

from .dependencies import get_query_token, get_token_header
from .internal import admin
from .routers import items, users

app = FastAPI(dependencies=[Depends(get_query_token)])


app.include_router(users.router)
app.include_router(items.router)
app.include_router(
    admin.router,
    prefix="/admin",
    tags=["admin"],
    dependencies=[Depends(get_token_header)],
    responses={418: {"description": "I'm a teapot"}},
)

@app.get("/")
async def root():
    return {"message": "Hello Bigger Applications!"}
```

–ò —ç—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –≤–º–µ—Å—Ç–µ —Å–æ –≤—Å–µ–º–∏ –¥—Ä—É–≥–∏–º–∏ ***–æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –ø—É—Ç–∏***, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º–∏ —Å `app.include_router()`.

> **–û—á–µ–Ω—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**
> 
> **–ó–∞–º–µ—Ç–∫–∞**: —ç—Ç–æ —Å–æ–≤—Å–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–∞–ª—å, –∫–æ—Ç–æ—Ä—É—é, –≤–µ—Ä–æ—è—Ç–Ω–æ, –≤—ã –º–æ–∂–µ—Ç–µ **–ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å**.
> ***
> `APIRouter`—ã –Ω–µ "–º–æ–Ω—Ç–∏—Ä—É—é—Ç—Å—è", –æ–Ω–∏ –Ω–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
> 
> –≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –≤–∫–ª—é—á–∏—Ç—å –∏—Ö ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** –≤ —Å—Ö–µ–º—É OpenAPI –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
>
> –¢–∞–∫ –∫–∞–∫ –º—ã –Ω–µ –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∏ "—Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å" –∏—Ö –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ, ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** "–∫–ª–æ–Ω–∏—Ä—É—é—Ç—Å—è"
> (–ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è), –∞ –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –Ω–∞–ø—Ä—è–º—É—é.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API

–¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å—Ç–∏–º `uvicorn`, –∏—Å–ø–æ–ª—å–∑—É—è –º–æ–¥—É–ª—å `app.main` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `app`:

```commandline
uvicorn app:main --reload
```

–ò –æ—Ç–∫—Ä–æ–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é http://127.0.0.1:8000/docs.

–í—ã —É–≤–∏–¥–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API, –≤–∫–ª—é—á–∞—é—â—É—é –≤ —Å–µ–±—è –ø—É—Ç–∏ –∏–∑ –≤—Å–µ—Ö –ø–æ–¥–º–æ–¥—É–ª–µ–π, –∏—Å–ø–æ–ª—å–∑—É—é—â—É—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—É—Ç–∏ 
(–∏ –ø—Ä–µ—Ñ–∏–∫—Å—ã), –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–µ–≥–∏:

<img src="https://fastapi.tiangolo.com/img/tutorial/bigger-applications/image01.png">

## –í–∫–ª—é—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å —Ä–∞–∑–Ω—ã–º–∏ `prefix`

–ï—â–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.include_router()` –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ —Ä–æ—É—Ç–µ—Ä–æ–º, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã.

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ API –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `/api/v1` –∏ 
`/api/latest`.

–≠—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–∞–º –º–æ–∂–µ—Ç –∏ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è, –Ω–æ –æ–Ω–æ –µ—Å—Ç—å –≤ —Å–ª—É—á–∞–µ –≤—ã —Ç–∞–∫ —Å–¥–µ–ª–∞–µ—Ç–µ.

## –í–∫–ª—é—á–µ–Ω–∏–µ `APIRouter` –≤ –¥—Ä—É–≥–æ–π

–¢–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∞—Ç—å `APIRoter` –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `FastAPI`, –≤—ã –º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∞—Ç—å `APIRouter` –≤ –¥—Ä—É–≥–æ–π `APIRouter`,
–∏—Å–ø–æ–ª—å–∑—É—è:

```python
router.include_router(other_router)
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–µ–ª–∞–µ—Ç–µ —ç—Ç–æ –ø–µ—Ä–µ–¥ –≤–∫–ª—é—á–µ–Ω–∏–µ–º `router` –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `FastAPI`, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã ***–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏*** –∏–∑
`other_router` —Ç–∞–∫ –∂–µ –±—ã–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã.
