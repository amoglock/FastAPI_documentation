<h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä–æ–∫</h3>

FastAPI –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä—è–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

–í–æ–∑—å–º–µ–º, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞, —Ç–∞–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```python
from fastapi import FastAPI

app = FastAPI()


@app.get("/items/")
async def read_items(q: str | None = None):
    results = {"items": [{"item_id": "Foo"}, {"item_id": "Bar"}]}
    if q:
        results.update({"q": q})
    return results
```

–ü–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ `q` —ç—Ç–æ —Ç–∏–ø `Union[str, None]`(–∏–ª–∏ `str | None` –≤ Python 3.10), —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ–≥–æ —Ç–∏–ø - `str`, –Ω–æ 
—Ç–∞–∫ –∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `None`, –∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏, –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ `None`, —Ç–∞–∫ FastAPI –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä
–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.

> **–ó–∞–º–µ—Ç–∫–∞**
> 
> FastApi –±—É–¥–µ—Ç –∑–Ω–∞—Ç—å —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ `q` –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –ø–æ—Ç–æ–º—É, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `None`.
> 
> `Union` –≤ `Union[str, None]` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–∫–∞–∑—ã–≤–∞—Ç—å –ª—É—á—à—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫.

<h3>–î–æ–±–∞–≤–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</h3>

–ú—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –æ–±–µ—Å–ø–µ—á–∏—Ç—å, —á—Ç–æ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ `q` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω, –Ω–æ –≤—Å–µ–≥–¥–∞ –∫–æ–≥–¥–∞ –æ–Ω –µ—Å—Ç—å, –µ–≥–æ –¥–ª–∏–Ω–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 50 —Å–∏–º–≤–æ–ª–æ–≤.

<h4>–ò–º–ø–æ—Ä—Ç `Query` –∏ `Annotated`</h4>

–ß—Ç–æ–±—ã –¥–æ—Å—Ç–∏—á—å —ç—Ç–æ–≥–æ, —Å–ø–µ—Ä–≤–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º:
* `Query` –∏–∑ `FastAPI`
* `Annotated` –∏–∑ `typing` (–∏–ª–∏ –∏–∑`typing_extensions` –≤ Python –Ω–∏–∂–µ –≤–µ—Ä—Å–∏–∏ 3.9)

–í Python 3.9 –∏–ª–∏ –≤—ã—à–µ, `Annotated` —ç—Ç–æ —á–∞—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –ø–æ—ç—Ç–æ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –∏–∑ `typing`.

```python
from typing import Annotated

from fastapi import FastAPI, Query

app = FastAPI()
```

> **–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**
> –í FastAPI –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `Annotated` (–∏ —Å—Ç–∞–ª–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–æ–π) –≤ –≤–µ—Ä—Å–∏–∏ 0.95.0.
> 
> –ï—Å–ª–∏ —É –≤–∞—Å –±–æ–ª–µ–µ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è, –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –æ—à–∏–±–∫–∏, –∫–æ–≥–¥–∞ –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Annotated`.
> 
> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –æ–±–Ω–æ–≤–∏–ª–∏ –≤–µ—Ä—Å–∏—é FastAPI –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –Ω–∞ 0.95.1 –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Annotated`.

<h3>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Annotated` –≤ —Ç–∏–ø–µ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `q`</h3>

`Annotated` –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤–∞—à–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º.

–°–µ–π—á–∞—Å —Å–∞–º–æ–µ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –≤ FastAPI.

–£ –Ω–∞—Å –µ—Å—Ç—å —Ç–∞–∫–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤:

```python
q: str | None = None
```

–ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–µ–º, —Ç–∞–∫ —ç—Ç–æ –æ–±–µ—Ä–Ω–µ–º –µ–µ –≤ `Annotated` –∏ –æ–Ω–∞ —Å—Ç–∞–Ω–µ—Ç —Ç–∞–∫–æ–π:

```python
q: Annotated[str | None] = None
```

–û–±–µ —ç—Ç–∏ –≤–µ—Ä—Å–∏–∏ –æ–∑–Ω–∞—á–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ, `q` —ç—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å `str` –∏–ª–∏ `None`, –∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω `None`.

–ê —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥–µ–º –∫ —Å–∞–º–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–º—É.

<h3>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ `Query` –∫ `Annotated` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `q`</h3>

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å `Annotated`, –≥–¥–µ –º—ã –º–æ–∂–µ–º —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –±–æ–ª—å—à–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –¥–æ–±–∞–≤—å—Ç–µ –∫ –Ω–µ–º—É `Query`, –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ 
–ø–∞—Ä–∞–º–µ—Ç—Ä `max_length` –Ω–∞ 50:

```python
from typing import Annotated
from fastapi import FastAPI, Query

app = FastAPI()

@app.get("/items/")
async def read_items(q: Annotated[str | None, Query(max_length=50)] = None):
    results = {"items": [{"item_id": "Foo"}, {"item_id": "Bar"}]}
    if q:
        results.update({"q": q})
    return results
```

–ó–∞–º–µ—Ç—å—Ç–µ, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –µ—â–µ `None`, –ø–æ—ç—Ç–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.

–ù–æ —Ç–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –µ—Å—Ç—å `Query(max_lenght=50)` –≤–Ω—É—Ç—Ä–∏ `Annotated`, –º—ã —Å–æ–æ–±—â–∞–µ–º FastAPI, —á—Ç–æ —Ö–æ—Ç–∏–º –∏–∑–≤–ª–µ—á—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ 
–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ (–≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –±—ã–ª–æ –±—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏ –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–≤–æ—Ç 
–∑–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É).

FastAPI —Ç–µ–ø–µ—Ä—å –±—É–¥–µ—Ç:
* –ü—Ä–æ–≤–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ, —É–±–µ–¥–∏–≤—à–∏—Å—å, —á—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ 50 —Å–∏–º–≤–æ–ª–æ–≤
* –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –Ω–µ–≤–µ—Ä–Ω—ã–µ
* –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ OpenAPI —Å—Ö–µ–º–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏ (–ø–æ—ç—Ç–æ–º—É –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π (—Å—Ç–∞—Ä—ã–π) `Query` –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏ FastAPI(–¥–æ 0.95.0) –æ–±—è–∑—ã–≤–∞–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Query` –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤–∞—à–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞,
–≤–º–µ—Å—Ç–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –µ–≥–æ –≤ `Annotated`, –ø–æ—ç—Ç–æ–º—É –≤–µ–ª–∏–∫–∏ —à–∞–Ω—Å—ã, —á—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ –∫–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ. –ü–æ—ç—Ç–æ–º—É —Ä–∞–∑–±–µ—Ä–µ–º—Å—è.

> **–°–æ–≤–µ—Ç**
> 
> –î–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞ –∏ –≤–µ–∑–¥–µ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Annotated`, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ. –¢–∞–º –±–æ–ª—å—à–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ (–ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ)
> –∏ –Ω–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤.

–í–æ—Ç –∫–∞–∫ –≤—ã –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Query()` –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä 
`max_lenght` –Ω–∞ 50:

```python
from fastapi import FastAPI, Query

app = FastAPI()


@app.get("/items/")
async def read_items(q: str | None = Query(default=None, max_length=50)):
    results = {"items": [{"item_id": "Foo"}, {"item_id": "Bar"}]}
    if q:
        results.update({"q": q})
    return results
```

–¢–∞–∫ –∫–∞–∫ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è `Annotated`) –º—ã –¥–æ–ª–∂–Ω—ã –∑–∞–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `None` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å `Query()`,
–Ω–∞–º –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `Query(default=None)`, –æ–Ω —Å–ª—É–∂–∏—Ç —Ç–æ–π –∂–µ —Ü–µ–ª–∏, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –≤ FastAPI).

–ü–æ—ç—Ç–æ–º—É...

```python
q: Union[str, None] = Query(default=None)
```

...–¥–µ–ª–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º, —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º None –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏:

```python
q: Union[str, None] = None
```

–ê –≤ Python 3.10 –∏ –≤—ã—à–µ:

```python
q: str | None = Query(default=None)
```

...–¥–µ–ª–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º, —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º None –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏:

```python
q: str | None = None
```

–ù–æ –æ–Ω —è–≤–Ω–æ –æ–±—ä—è–≤–ª—è–µ—Ç —ç—Ç–æ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞.

> **–î–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**
> 
> –ò–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —ç—Ç–æ:
> > `= None`
> 
> –∏–ª–∏
> 
> >`Query(default=None)`
> 
> –¢–∞–∫ —ç—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å None, –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏ —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –¥–µ–ª–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.
> 
> –ß–∞—Å—Ç—å `Union[str, None]` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ª—É—á—à—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É, –Ω–æ —ç—Ç–æ –Ω–µ —Ç–æ, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç FastAPI, —á—Ç–æ 
> —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.

–ó–∞—Ç–µ–º –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –±–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ `Query`. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä `max_length` –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫
—Å—Ç—Ä–æ–∫–∞–º:

```python
q: Union[str, None] = Query(default=None, max_length=50)
```

–ë—É–¥—É—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ —Å—Ö–µ–º—É 
–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—É—Ç–∏ OpenAPI.

<h4>`Query` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–ª–∏ –≤ `Annotated`</h4>

–ò–º–µ–π—Ç–µ –≤ –≤–∏–¥—É, —á—Ç–æ –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Query` –≤–Ω—É—Ç—Ä–∏ `Annotated` –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `default` –¥–ª—è `Query`.

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ —Ñ—É–Ω–∫—Ü–∏–∏. –ò–Ω–∞—á–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–æ–µ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è:

```python
q: Annotated[str, Query(default="rick")] = "morty"
```

...–ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ—è—Å–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `"rick"` –∏–ª–∏ `"morty"`.

–ü–æ—ç—Ç–æ–º—É —Å–ª–µ–¥–æ–≤–∞–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ):

```python
q: Annotated[str, Query()] = "rick"
```

...–∏–ª–∏ –≤ –±–æ–ª–µ–µ —Å—Ç–∞—Ä–æ–º –∫–æ–¥–µ –≤—ã –Ω–∞–π–¥–µ—Ç–µ:

```python
q: str = Query(default="rick")
```

<h3>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `Annotated`</h3>

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Annotated` —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –≤–º–µ—Å—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Ñ—É–Ω–∫—Ü–∏–∏, —ç—Ç–æ –ª—É—á—à–µ –ø–æ –º–Ω–æ–≥–∏–º –ø—Ä–∏—á–∏–Ω–∞–º.

–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —ç—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤ —Ü–µ–ª–æ–º –±–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ –¥–ª—è Python.

–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑–≤–∞—Ç—å —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –±–µ–∑ FasAPI, –∏ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –±—ã –∫–∞–∫ –æ–∂–∏–¥–∞–ª–æ—Å—å. –ï—Å–ª–∏ –µ—Å—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
–ø–∞—Ä–∞–º–µ—Ç—Ä (–±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –≤–∞—à —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–æ–æ–±—â–∏—Ç –æ–± –æ—à–∏–±–∫–µ, Python —Ç–∞–∫–∂–µ –ø–æ–∂–∞–ª—É–µ—Ç—Å—è –µ—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–µ –Ω–µ 
–ø–µ—Ä–µ–¥–∞–≤ —Ç—Ä–µ–±—É–µ–º—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä.

–ö–æ–≥–¥–∞ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `Annotated`, –∞ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ (—Å—Ç–∞—Ä—ã–π) —Å—Ç–∏–ª—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ
—ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –±–µ–∑ FastAPI –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö, –Ω—É–∂–Ω–æ –Ω–µ –∑–∞–±—ã—Ç—å –ø–µ—Ä–µ–¥–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ —Ñ—É–Ω–∫—Ü–∏—é —á—Ç–æ–±—ã –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –∏–Ω–∞—á–µ
–∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –æ–∂–∏–¥–∞–µ–º—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—Ä–æ—Å–µ –∏–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ –≤–º–µ—Å—Ç–æ str). –†–µ–¥–∞–∫—Ç–æ—Ä –∏ Python 
–Ω–µ –±—É–¥—É—Ç –∂–∞–ª–æ–≤–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫–∞—è —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é, —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è –æ—à–∏–±–∫–æ–π.

–ü–æ—Å–∫–æ–ª—å–∫—É –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–æ–ª–µ–µ –æ–¥–Ω–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º, —Ç–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é
–¥–∞–∂–µ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ Typer. üöÄ

<h3>–î–æ–±–∞–≤–∏–º –±–æ–ª—å—à–µ –ø—Ä–æ–≤–µ—Ä–æ–∫</h3>

–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `min_length`:

```python
from typing import Annotated

from fastapi import FastAPI, Query

app = FastAPI()


@app.get("/items/")
async def read_items(
    q: Annotated[str | None, Query(min_length=3, max_length=50)] = None
):
    results = {"items": [{"item_id": "Foo"}, {"item_id": "Bar"}]}
    if q:
        results.update({"q": q})
    return results
```

<h3>–î–æ–±–∞–≤–∏–º —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</h3>

–í—ã –º–æ–∂–µ—Ç–µ –æ–±—ä—è–≤–∏—Ç—å `pattern` —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å:

```python
from typing import Annotated

from fastapi import FastAPI, Query

app = FastAPI()


@app.get("/items/")
async def read_items(
    q: Annotated[
        str | None, Query(min_length=3, max_length=50, pattern="^fixedquery$")
    ] = None
):
    results = {"items": [{"item_id": "Foo"}, {"item_id": "Bar"}]}
    if q:
        results.update({"q": q})
    return results
```

–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
* `^`: –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å–∏–º–≤–æ–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥—É—Ç –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–Ω–∞–∫–∞, –Ω–µ –∏–º–µ–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤ –¥–æ —ç—Ç–æ–≥–æ.
* `fixedquery`: –∏–º–µ–µ—Ç —Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `fixedquery`.
* `$`: –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –∑–¥–µ—Å—å, –Ω–µ –∏–º–µ–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ—Å–ª–µ `fixedquery`.

–ï—Å–ª–∏ exact –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–º —Å–æ –≤—Å–µ–º–∏ —ç—Ç–∏–º–∏ "—Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏", –Ω–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å. –≠—Ç–æ —Å–ª–æ–∂–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è
–º–Ω–æ–≥–∏—Ö –ª—é–¥–µ–π. –í—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å –º–Ω–æ–≥–æ–µ, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.

–ù–æ –≤—Å—è–∫–∏–π —Ä–∞–∑ –∫–æ–≥–¥–∞ –æ–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ—Å—å –∏—Ö –∏–∑—É—á–∞—Ç—å, –∑–Ω–∞–π—Ç–µ —á—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –Ω–∞–ø—Ä—è–º—É—é –≤ FastAPI.

<h3>Pydantic V1 `regex` –≤–º–µ—Å—Ç–æ `pattern`</h3>

–î–æ Pydantic –≤–µ—Ä—Å–∏–∏ 2 –∏ FastAPI 0.100.0, –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–∞–∑—ã–≤–∞–ª—Å—è `regex` –≤–º–µ—Å—Ç–æ `pattern`, –Ω–æ —Ç–µ–ø–µ—Ä—å —ç—Ç–æ —É—Å—Ç–∞—Ä–µ–ª–æ.

–í—ã –º–æ–∂–µ—Ç–µ –≤—Å–µ –µ—â–µ –≤–∏–¥–µ—Ç—å –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π —ç—Ç–æ:

```python
from typing import Annotated

from fastapi import FastAPI, Query

app = FastAPI()


@app.get("/items/")
async def read_items(
    q: Annotated[
        str | None, Query(min_length=3, max_length=50, regex="^fixedquery$")
    ] = None
):
    results = {"items": [{"item_id": "Foo"}, {"item_id": "Bar"}]}
    if q:
        results.update({"q": q})
    return results
```

–ù–æ –∑–Ω–∞–π—Ç–µ, —á—Ç–æ —ç—Ç–æ —É—Å—Ç–∞—Ä–µ–ª–æ –∏ —Å–ª–µ–¥—É–µ—Ç –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–æ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `pattern`. ü§ì

<h3>–ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</h3

–ö–æ–Ω–µ—á–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç `None`.

–°–∫–∞–∂–µ–º, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±—ä—è–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ `q`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `min_length` —Ä–∞–≤–Ω—ã–º `3`, –∏ –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ 
—É–º–æ–ª—á–∞–Ω–∏—é `fixedquery`:

```python
from typing import Annotated

from fastapi import FastAPI, Query

app = FastAPI()


@app.get("/items/")
async def read_items(q: Annotated[str, Query(min_length=3)] = "fixedquery"):
    results = {"items": [{"item_id": "Foo"}, {"item_id": "Bar"}]}
    if q:
        results.update({"q": q})
    return results
```

> **–ó–∞–º–µ—Ç–∫–∞**
> 
> –ù–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ª—é–±–æ–≥–æ —Ç–∏–ø–∞, –≤–∫–ª—é—á–∞—è `None`, –¥–µ–ª–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º).

<h3>–î–µ–ª–∞–µ–º –µ–≥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º</h3>

–ö–æ–≥–¥–∞ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –º–Ω–æ–≥–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏–ª–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ `q` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø—Ä–æ—Å—Ç–æ –Ω–µ
—É–∫–∞–∑—ã–≤–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```python
q: str
```

–≤–º–µ—Å—Ç–æ:

```python
q: Union[str, None] = None
```

–ê —Å–µ–π—á–∞—Å –æ–±—ä—è–≤–ª—è–µ–º –µ–≥–æ —Å `Query`, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–µ:

```python
q: Annotated[Union[str, None], Query(min_length=3)] = None
```

–ò—Ç–∞–∫, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º `Query`, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –Ω–µ –æ–±—ä—è–≤–ª—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ
—É–º–æ–ª—á–∞–Ω–∏—é:

```python
from typing import Annotated

from fastapi import FastAPI, Query

app = FastAPI()


@app.get("/items/")
async def read_items(q: Annotated[str, Query(min_length=3)]):
    results = {"items": [{"item_id": "Foo"}, {"item_id": "Bar"}]}
    if q:
        results.update({"q": q})
    return results
```

