# Отладка

Вы можете подключать отладчик в вашем редакторе, например с Visual Studio Code или PyCharm.

## Вызов `uvicorn`

В вашем приложении FastAPI, импортируйте и запустите `uvicorn` напрямую:

```python
import uvicorn
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
def root():
    a = "a"
    b = "b" + a
    return {"hello world": b}


if __name__ == "__main__":
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

### Про `__name__ == "__main__"`

Основная цель `__name__ == "__main__"` это иметь какой-то код, который запустится, когда ваш файл вызван с:

```commandline
python myapp.py
```

А не вызван, когда другой файл его импортирует, вроде этого:

```python
from myapp import app
```

#### Еще детали

Скажем, что ваш файл называется `myapp.py`.

Если вы запустите его с:

```commandline
python myapp.py
```

Тогда в вашем файле, внутренняя переменная `__name__`, созданная автоматически Python, будет иметь строковое значение 
`"__main__"`.

Поэтому, секция кода:

```python
uvicorn.run(app, host="0.0.0.0", port=8000)
```

...запустится.

***

Этого не произойдет если вы импортируете этот модуль (файл).

Поэтому, если у вас есть еще один файл `importer.py`, с:

```python
from myapp import app
```

В этом случае, автоматически созданная переменная внутри `myapp.py`, не будет иметь `__name__` со значением `"__main__"`.

Поэтому, строка:

```python
uvicorn.run(app, host="0.0.0.0", port=8000)
```

Запущена не будет.

> **Для информации**
> 
> Для получения большей информации, посмотрите [официальную документацию Python](https://docs.python.org/3/library/__main__.html).

## Запуск кода в отладчике

Так как вы запускаете сервер Uvicorn напрямую из кода, вы можете вызывать вашу программу (приложение FastAPI) напрямую
из отладчика.

***

Например, в VS Code, вы можете:

* Перейти в панель "Debug".
* "Add configuration...".
* Выбрать "Python".
* Запустить отладчик с опцией "`Python: Current File (Integrated Terminal)`".

Затем он запустит сервер с вашим кодом FastAPI, остановится на ваших точках контроля, и т.д.

Вот как это может выглядеть:

![](https://fastapi.tiangolo.com/img/tutorial/debugging/image01.png)

***

Если вы используете PyCharm, вы можете:

* Открыть меню "Run".
* Выбрать опцию "Debug...".
* Затем появится контекстное меню.
* Выбрать файл для отладки (в этом случае `main.py`).

Затем он запустит сервер с вашим кодом FastAPI, остановится на ваших точках контроля, и т.д.

Вот как это может выглядеть:

![](https://fastapi.tiangolo.com/img/tutorial/debugging/image02.png)
