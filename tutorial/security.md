<h3>Безопасность</h3>

Существует много способов обрабатывать безопасность, аутентификацию и авторизацию.

И это обычно сложная и "трудная" тема.

Во многих фреймворках и системах, просто обработка безопасности и аутентификация занимает большое количество усилий и
кода (в большом количестве случаев это может быть 50 или более процентов всего написанного кода).

FastAPI предоставляет несколько инструментов, чтобы помочь вам работать с Безопасностью легче, быстрее, в стандартных
случаях, без необходимости учить и узнавать все особенности безопасности.

Но сперва, давайте рассмотрим некоторые небольшие принципы.

<h4>Торопишься?</h4>

Если вам все равно на любой из терминов и вам просто нужно добавить обеспечение аутентификации, основанной на имени 
пользователя и пароле прямо сейчас, переходите к следующим главам.

<h4>OAuth2</h4>

OAuth2 это спецификация, которая определяет несколько способов обработать аутентификацию и авторизацию.

Это довольно обширная спецификация и она покрывает несколько сложных вариантов использования.

Она включает в себя способы аутентификации, используя "третью сторону".

Это то, что используют все системы с "войти с помощью Facebook, Google, Twitter, GitHub" внизу.

<h4>OAuth1</h4>

Был еще OAuth1, который очень отличается от OAuth2 и более сложный, так как он включал прямые спецификации на то как
шифровать сообщение.

Он не самый популярный или используемый в наше время.

OAuth2 не указывает как шифровать сообщения, он ожидает, что у вас будет приложение, которое обслуживается по протоколу 
HTTPS.

> **Подсказка**
> 
> В разделе про разворачивание приложения вы увидите как установить HTTPS, используя Traefik и Let`s Encrypt.

<h4>OpenID Connect</h4>

OpenID Connect это другая спецификация, основанная на **OAuth2**.

Она просто расширяет OAuth2, определяя некоторые вещи, которые достаточно неоднозначны в OAuth2, чтобы сделать их более
совместимыми.

Например, Google login использует OpenID Connect (который использует OAuth2).

Но Facebook login не поддерживает OpenID Connect. Он имеет собственный OAuth2.

<h5>OpenID (не "OpenID Connect")</h5>

Была также спецификация OpenID. Она пыталась решить то же самое, что и OpenID Connect, но не основывалась на OAuth2.

Поэтому, это была сложная дополнительная система.

Она не самая популярная или используемая в наше время.

<h4>OpenAPI</h4>

OpenAPI (ранее известная как Swagger) это открытая спецификация для построения API (сейчас часть Linux Foundation).

FastAPI основывается на OpenAPI.

Это то, что делает возможным иметь несколько интерфейсов автоматической интерактивной документации, генерацию кода, и т.д.

OpenAPI имеет способ определять несколько "схем" безопасности.

Используя их, вы можете иметь преимущества от всех этих инструментов, включая системы интерактивной документации.

OpenAPI определяет следующие схемы безопасности:
* `apiKey`: определенный ключ приложения который может приходить из:
  * Параметра запроса.
  * Заголовка.
  * Куки.
* `http`: системы аутентификации стандарта HTTP, включающие:
  * `bearer`: заголовок `Authorization` со значением `Bearer` плюс токен. Это унаследовано из OAuth2.
  * Базовая аутентификация HTTP.
  * HTTP Digest и т.д.
* `oauth2`: все способы обработки безопасности OAuth2 (называемые "потоки").
  * Несколько из этих потоков подходят для постройки предоставления аутентификации OAuth2 2.0 (например Google, Facebook,
  Twitter, GitHub, и т.д.):
    * `implicit`
    * `clientCredentials`
    * `authorizationCode`
  * Но есть один определенный "поток", который может отлично использоваться для обработки аутентификации в одном приложении
  напрямую:
    * `password`: несколько следующий глав покрывают эти примеры.
  * `openIdConnect`: имеет способ определить как автоматически открыть данные OAuth2 аутентификации.
    * Это автоматическое открытие это то, что определено в спецификации OpenID Connect.

> **Подсказка**
> 
> Интеграция других провайдеров аутентификации/авторизации, типа, Google, Facebook, Twitter, GitHub и т.д. так же возможна
> и относительно легкая.
> 
> Большое количество сложных проблем строится на авторизации/аутентификации провайдеров как эти, но FastAPI дает вам 
> инструменты сделать это легче, делая тяжелую работу за вас.

<h4>FastAPI utilities</h4>

FastAPI предоставляет различные инструменты для каждой из этих схем безопасности в модуле `fastapi.security`, который
упрощает использование этих механизмов безопасности.

В следующих главах вы увидите как добавить безопасность в ваш API, используя эти инструменты, предоставленные FastAPI.

И вы увидите как они получаются автоматически интегрированными внутрь системы интерактивной документации.